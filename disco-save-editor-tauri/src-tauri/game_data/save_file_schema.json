{
  "_description": "Complete schema of all Disco Elysium save file sections. Every key in 1st/2nd JSON, states.lua, and FOW.json is documented with types, valid values, and cross-references to game asset data.",
  "save_folder_contents": {
    "*.1st.ntwtf.json": "Party state, current area, fog of war cache",
    "*.2nd.ntwtf.json": "Character sheet, inventory, journal, thoughts, containers, game state",
    "*.FOW.json": "Fog of war visibility data (empty dict when no fog revealed)",
    "*.ntwtf.lua": "Binary TLV database — all PixelCrushers dialogue variables at runtime",
    "*.states.lua": "Lua script — area states and shown interaction orbs"
  },
  "first_file": {
    "areaId": {"type": "string", "description": "Current area identifier", "examples": ["Martinaise-ext", "Whirling-ext"]},
    "partyState": {
      "type": "object",
      "fields": {
        "isKimInParty": {"type": "bool", "description": "Kim Kitsuragi following player"},
        "isKimLeftOutside": {"type": "bool", "description": "Kim waiting outside current area"},
        "isKimAbandoned": {"type": "bool", "description": "Kim abandoned/separated from party"},
        "isKimAwayUpToMorning": {"type": "bool", "description": "Kim gone until morning"},
        "isKimSleepingInHisRoom": {"type": "bool", "description": "Kim sleeping at hotel"},
        "isKimSayingGoodMorning": {"type": "bool", "description": "Good morning dialogue trigger"},
        "isCunoInParty": {"type": "bool", "description": "Cuno following player (late game)"},
        "isCunoLeftOutside": {"type": "bool", "description": "Cuno waiting outside"},
        "isCunoAbandoned": {"type": "bool", "description": "Cuno abandoned/not recruited"},
        "hasHangover": {"type": "bool", "description": "Day 1 hangover active"},
        "sleepLocation": {"type": "int", "description": "Where player sleeps"},
        "waitLocation": {"type": "int", "description": "Where party waits"},
        "cunoWaitLocation": {"type": "int", "description": "Where Cuno waits"},
        "timeSinceKimWentSleepingInHisRoom": {"type": "int", "description": "Minutes since Kim went to sleep"},
        "kimLastArrivalLocation": {"type": "int", "description": "Kim's last arrival point"},
        "cunoLastArrivalLocation": {"type": "int", "description": "Cuno's last arrival point"}
      }
    },
    "fowUnrevealersStatusCache": {
      "type": "object",
      "description": "Fog of war zone visibility states",
      "value_type": "string",
      "valid_values": ["UNSEEN", "ACTIVE", "DONE"]
    }
  },
  "second_file": {
    "playerCharacter": {
      "type": "object",
      "fields": {
        "XpAmount": {"type": "int", "description": "Total XP earned"},
        "Level": {"type": "int", "description": "Current player level"},
        "SkillPoints": {"type": "int", "description": "Unspent skill points"},
        "Money": {"type": "int", "description": "Currency in cents (100 = 1 Réal)"},
        "StockValue": {"type": "int", "description": "Aggregate value of pawn stock"},
        "NewPointsToSpend": {"type": "bool", "description": "Notification flag for unspent points"},
        "healingPools": {
          "type": "object",
          "fields": {
            "ENDURANCE": {"type": "int", "description": "Health pips remaining (0 = death)"},
            "VOLITION": {"type": "int", "description": "Morale pips remaining (0 = death)"}
          }
        }
      }
    },
    "characterSheet": {
      "type": "object",
      "description": "Contains all 4 abilities + 24 skills + items/thoughts/modifiers",
      "ability_entry_schema": {
        "abilityType": {"type": "string", "values": ["INT", "PSY", "FYS", "MOT"]},
        "dirty": {"type": "bool", "description": "Recalculation needed flag"},
        "value": {"type": "int", "description": "Current ability score"},
        "valueWithoutPerceptionsSubSkills": {"type": "int", "description": "Base value without perception sub-skill bonuses"},
        "damageValue": {"type": "int", "description": "Damage/penalty applied to this ability"},
        "maximumValue": {"type": "int", "description": "Max value (must >= value)"},
        "calculatedAbility": {"type": "int", "description": "Always 0 for abilities (used only for skills)"},
        "rankValue": {"type": "int", "description": "Points invested (0 for abilities)"},
        "hasAdvancement": {"type": "bool", "description": "Can be leveled up"},
        "isSignature": {"type": "bool", "description": "True if archetype signature ability"},
        "modifiers": {"type": "array|null", "description": "Active modifier list or null"}
      },
      "skill_entry_schema": {
        "skillType": {"type": "string", "description": "UPPER_CASE skill identifier (see skill_key_map.json)"},
        "abilityType": {"type": "string", "values": ["INT", "PSY", "FYS", "MOT"]},
        "dirty": {"type": "bool", "description": "Recalculation needed flag"},
        "value": {"type": "int", "description": "Current total skill value (calculatedAbility + rankValue + modifiers)"},
        "valueWithoutPerceptionsSubSkills": {"type": "int", "description": "Value excluding perception sub-skill bonuses"},
        "damageValue": {"type": "int", "description": "Damage/penalty applied to this skill"},
        "maximumValue": {"type": "int", "description": "Learning cap"},
        "calculatedAbility": {"type": "int", "description": "Base score from parent ability"},
        "rankValue": {"type": "int", "description": "Skill points invested"},
        "hasAdvancement": {"type": "bool", "description": "Can be leveled up"},
        "isSignature": {"type": "bool", "description": "True if archetype signature skill"},
        "modifiers": {"type": "array|null", "description": "Active modifier list or null"}
      },
      "collection_fields": {
        "gainedItems": {"type": "string[]", "description": "Item IDs in inventory (cross-ref: items_inventory.json 'name' field)"},
        "equippedItems": {"type": "string[]", "description": "Subset of gainedItems currently worn"},
        "gainedThoughts": {"type": "string[]", "description": "Discovered thought IDs (cross-ref: items_thoughts.json 'name' field)"},
        "cookingThoughts": {"type": "string[]", "description": "Thoughts currently being researched"},
        "fixedThoughts": {"type": "string[]", "description": "Fully internalized thoughts"},
        "forgottenThoughts": {"type": "string[]", "description": "Removed thoughts"}
      },
      "SkillModifierCauseMap": {
        "type": "object",
        "description": "Keyed by SKILL_TYPE (e.g. 'LOGIC'). Each value is an array of modifier entries.",
        "modifier_entry_schema": {
          "type": {"type": "string", "values": ["CALCULATED_ABILITY", "THC", "INVENTORY_ITEM", "INITIAL_DICE"]},
          "amount": {"type": "int", "description": "Bonus/penalty amount"},
          "explanation": {"type": "string", "description": "Human-readable reason"},
          "skillType": {"type": "string", "description": "Target skill type"},
          "modifierCause": {
            "ModifierKey": {"type": "string", "description": "Source ID (ability type, thought name, or item name)"},
            "ModifierCauseType": {"type": "string", "values": ["ABILITY", "THOUGHT", "INVENTORY_ITEM"]}
          }
        }
      },
      "AbilityModifierCauseMap": {
        "type": "object",
        "description": "Keyed by ability type (INT/PSY/FYS/MOT). Same modifier_entry_schema.",
        "note": "Tracks base ability modifiers (INITIAL_DICE)"
      },
      "selectedPanelName": {"type": "string", "description": "Last selected character sheet tab"}
    },
    "sunshineClockTimeHolder": {
      "type": "object",
      "fields": {
        "time": {
          "dayCounter": {"type": "int", "description": "Game day (1-based)"},
          "realDayCounter": {"type": "int", "description": "Real day counter"},
          "dayMinutes": {"type": "int", "description": "Minutes since midnight (0-1439). hours=dayMinutes/60, mins=dayMinutes%60"},
          "seconds": {"type": "int", "description": "Seconds within the minute (0-59)"}
        },
        "timeOverride": {"type": "object|null", "description": "Time override for scripted sequences"}
      }
    },
    "aquiredJournalTasks": {
      "type": "object",
      "description": "Journal/quest tracker. All task keys use TASK.* variable names (cross-ref: variables_tasks.json)",
      "fields": {
        "TaskAquisitions": {
          "type": "object",
          "description": "Keyed by TASK.* name. Value = timestamp {dayCounter, realDayCounter, dayMinutes, seconds}",
          "note": "When each task was discovered"
        },
        "TaskResolutions": {
          "type": "object",
          "description": "Keyed by TASK.* name. Value = timestamp or empty object (empty = not yet resolved)",
          "note": "When each task was completed"
        },
        "SubtaskAquisitions": {
          "type": "object",
          "description": "Keyed by parent TASK.* name. Value = {subtask_name: timestamp}",
          "note": "When subtasks were discovered"
        },
        "TaskNewStates": {
          "type": "object",
          "description": "Keyed by TASK.* name. Value = bool (true = has been seen/read by player)",
          "note": "Controls 'NEW' badge in journal. 139 entries in early save."
        },
        "ChecksWithNotifications": {"type": "array", "description": "Skill check results with notification flags"},
        "LastActiveTask": {"type": "string", "description": "Currently tracked task name"},
        "LastDoneTask": {"type": "string", "description": "Most recently completed task"},
        "TasksTabNotifyIcon": {"type": "bool", "description": "Journal tab notification dot"},
        "ChecksTabNotifyIcon": {"type": "bool"},
        "ActiveTasksTabNotifyIcon": {"type": "bool"},
        "DoneTasksTabNotifyIcon": {"type": "bool"},
        "HudNotifyIcon": {"type": "bool", "description": "HUD journal notification"},
        "wasChurchVisited": {"type": "bool"},
        "wasFishingVillageVisited": {"type": "bool"},
        "wasQuicktravelChurchDiscovered": {"type": "bool"},
        "wasQuicktravelFishingVillageDiscovered": {"type": "bool"}
      }
    },
    "inventoryState": {
      "type": "object",
      "fields": {
        "itemListState": {
          "type": "array",
          "description": "All 206 items with their current state",
          "item_schema": {
            "itemName": {"type": "string", "description": "Item ID (cross-ref: items_inventory.json 'name')"},
            "isFresh": {"type": "bool", "description": "True if item hasn't been inspected yet"},
            "substanceUses": {"type": "int", "description": "Remaining uses for consumables"},
            "substanceTimeLeft": {"type": "int", "description": "Time until substance effect expires"},
            "StackItems": {"type": "array|null", "description": "Stacked items (e.g. money, tare)"}
          }
        },
        "inventoryViewState": {
          "type": "object",
          "fields": {
            "equipment": {
              "type": "object",
              "description": "Keyed by slot name → item ID. Slots: PANTS, JACKET, SHIRT, NECK, SHOES, HELDLEFT, HELDRIGHT, GLOVES, HAT, GLASSES"
            },
            "inventory": {
              "type": "object",
              "description": "Keyed by category: TOOLS, CLOTHES, PAWNABLES, READING. Value = array of {Key, Value} pairs"
            },
            "bullets": {"type": "int", "description": "Ammunition count"},
            "keys": {"type": "string[]", "description": "Key ring display names"},
            "lastSelectedItem": {"type": "string", "description": "Last selected item name"}
          }
        },
        "wearingBodysuit": {"type": "bool", "description": "Wearing the body suit (hides other clothing)"}
      }
    },
    "thoughtCabinetState": {
      "type": "object",
      "fields": {
        "thoughtListState": {
          "type": "array",
          "description": "All 53 thoughts with their state. Cross-ref: items_thoughts.json",
          "item_schema": {
            "name": {"type": "string", "description": "Thought ID (matches items_thoughts.json 'name')"},
            "isFresh": {"type": "bool", "description": "Has 'NEW' indicator"},
            "state": {"type": "string", "values": ["UNKNOWN", "COOKING", "FIXED", "FORGOTTEN"]},
            "timeLeft": {"type": "float", "description": "Minutes remaining to internalize (0 when fixed)"}
          }
        },
        "thoughtCabinetViewState": {
          "type": "object",
          "fields": {
            "slotStates": {
              "type": "array",
              "description": "Cabinet slot visual states. Each element is a tuple object.",
              "item_schema": {
                "Item1": {"type": "string", "values": ["FILLED", "BUYABLE", "LOCKED"], "description": "Slot state"},
                "Item2": {"type": "string|null", "description": "Thought name if FILLED, null otherwise"}
              }
            },
            "selectedProjectName": {"type": "string", "description": "Currently selected thought name"}
          }
        }
      }
    },
    "containerSourceState": {
      "type": "object",
      "fields": {
        "itemRegistry": {
          "type": "object",
          "description": "Keyed by container scene path (e.g. 'Interactable whirl f2/Shelves11'). 402 containers in early save. Value contains items array.",
          "note": "Container names are Unity scene object paths, not articy/game IDs",
          "container_item_schema": {
            "name": {"type": "string", "description": "Item name ID (cross-ref: items_inventory.json)"},
            "probability": {"type": "float", "description": "Spawn probability (0-1)"},
            "value": {"type": "int", "description": "Base value"},
            "deviation": {"type": "int", "description": "Value deviation range"},
            "calculatedValue": {"type": "int", "description": "Computed value"},
            "bonusLoot": {"type": "bool", "description": "Whether this is bonus loot"}
          }
        }
      }
    },
    "failedWhiteChecksHolder": {
      "type": "object",
      "description": "Tracks skill checks that can be retried after leveling up",
      "fields": {
        "ReopenedWhiteChecksByActorName": {"type": "object", "description": "Checks reopened by skill level increase"},
        "WhiteCheckCache": {"type": "object", "description": "Failed white checks pending retry"},
        "SeenWhiteCheckCache": {
          "type": "object",
          "description": "All white checks encountered. Keyed by location variable name (cross-ref: variables_locations.json)",
          "value_schema": {
            "FlagName": {"type": "string", "description": "Location variable name"},
            "SkillType": {"type": "string", "description": "Skill type for the check (e.g. ELECTROCHEMISTRY)"},
            "LastSkillValue": {"type": "int", "description": "Player's skill value when last attempted"},
            "LastTargetValue": {"type": "int", "description": "Difficulty target after modifiers"},
            "difficulty": {"type": "int", "description": "Base difficulty before modifiers"},
            "checkPrecondition": {"type": "string", "description": "Lua expression that must be true for check to appear"},
            "isOnlySeen": {"type": "bool", "description": "True if seen but not yet attempted"},
            "checkTargetArticyId": {"type": "string", "description": "Articy:Draft ID for the check target"},
            "Actor": {"type": "object", "description": "Full PixelCrushers actor field list"},
            "CheckModifiers": {
              "type": "object",
              "description": "Map of variable name → modifier array. Each modifier has expression, bonus (int), and fallbackExplanation (string). Negative bonus = easier."
            }
          }
        },
        "ChecksBySkill": {"type": "object", "description": "Checks grouped by skill type"},
        "ChecksByVariable": {"type": "object", "description": "Checks keyed by variable name"}
      }
    },
    "variousItemsHolder": {
      "type": "object",
      "fields": {
        "Obsessions": {"type": "string[]", "description": "Interaction orbs the player has seen/clicked"},
        "DoorStates": {"type": "object", "description": "Keyed by door name → bool (open/closed)"},
        "BuildNumber": {"type": "string", "description": "Game build hash"}
      }
    },
    "hudState": {
      "type": "object",
      "fields": {
        "tequilaPortraitObscured": {"type": "bool", "description": "Portrait in shadow (day 1)"},
        "tequilaPortraitShaved": {"type": "bool", "description": "Player shaved"},
        "tequilaPortraitExpressionStopped": {"type": "bool"},
        "tequilaPortraitFascist": {"type": "bool", "description": "Fascist hairstyle applied"},
        "charsheetNotification": {"type": "bool", "description": "Character sheet has unseen changes"},
        "inventoryNotification": {"type": "bool"},
        "journalNotification": {"type": "bool"},
        "thcNotification": {"type": "bool", "description": "Thought Cabinet notification"},
        "invClothesNotification": {"type": "bool"},
        "invPawnablesNotification": {"type": "bool"},
        "invReadingNotification": {"type": "bool"},
        "invToolsNotification": {"type": "bool"}
      }
    },
    "weatherState": {
      "type": "object",
      "fields": {
        "weatherPreset": {"type": "int", "description": "Active weather preset index"}
      }
    },
    "kubujussState": {
      "type": "object",
      "description": "Cutscene/animation state tracking",
      "fields": {
        "CutsceneObjectStates": {
          "type": "array",
          "item_schema": {
            "name": {"type": "string", "description": "Object name (e.g. 'molotov')"},
            "lastAnimationHash": {"type": "int", "description": "Unity Animator state hash"},
            "triggeredFunctions": {"type": "string", "description": "Comma-separated triggered function names"},
            "parameters": {"type": "object", "description": "Animation parameter key-value pairs"}
          }
        }
      }
    },
    "gameModeState": {
      "type": "object",
      "fields": {
        "gameMode": {"type": "string", "values": ["NORMAL", "HARDCORE"], "description": "Difficulty mode"},
        "wasSwitched": {"type": "bool", "description": "Whether mode was changed mid-game"}
      }
    }
  },
  "states_lua": {
    "description": "Lua script with two data patterns: AreaState and ShownOrbs",
    "AreaState": {
      "type": "object",
      "description": "Keyed by area ID (e.g. 'CHURCH_AUXWIRE'). 138 entries. Value = {LocationState=N}",
      "note": "LocationState appears to be an enum for area progression state"
    },
    "ShownOrbs": {
      "type": "object",
      "description": "Keyed by orb ID. Tracks which interaction orbs are visible"
    }
  },
  "fow_json": {
    "description": "Fog of war grid data. Empty dict ({}) when no fog has been revealed. Populated as player explores.",
    "type": "object"
  }
}
